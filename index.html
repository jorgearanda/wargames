<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wargames</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-management">
        <select id="game-selector" class="game-selector">
            <option value="">Select or create a game...</option>
        </select>
        <button id="new-game-btn" class="game-btn">New Game</button>
        <button id="delete-game-btn" class="game-btn danger">Delete Game</button>
        <button id="export-game-btn" class="game-btn">Export</button>
        <input type="file" id="import-game-input" accept=".json" style="display: none;">
        <button id="import-game-btn" class="game-btn">Import</button>
    </div>

    <div class="game-title-container">
        <div class="title-buttons">
            <div class="controls-section display-controls">
                <label for="highlight-dropdown">Highlight cards by type</label>
                <select id="highlight-dropdown" class="highlight-select">
                    <option value="-">-</option>
                    <option value="china">China</option>
                    <option value="defcon-modify">DEFCON Modify</option>
                    <option value="hand-modify">Hand Modify</option>
                    <option value="key">Key</option>
                    <option value="suicide">Suicide</option>
                    <option value="vps">VPs</option>
                    <option value="wars">Wars</option>
                </select>
                <label for="region-dropdown">by region</label>
                <select id="region-dropdown" class="highlight-select">
                    <option value="-">-</option>
                    <option value="africa">Africa</option>
                    <option value="asia">Asia</option>
                    <option value="central-america">Central America</option>
                    <option value="europe">Europe</option>
                    <option value="middle-east">Middle East</option>
                    <option value="south-america">South America</option>
                    <option value="southeast-asia">Southeast Asia</option>
                </select>
                <button id="clear-highlight-btn" class="title-btn">Clear</button>
                <label class="short-checkbox-label">
                    <input type="checkbox" id="short-names-checkbox"> Short names
                </label>
            </div>
            <div class="controls-section deck-management">
                <button id="add-discards-btn" class="title-btn">Re-add Discards</button>
                <button id="add-mid-btn" class="title-btn">Add Mid</button>
                <button id="add-late-btn" class="title-btn">Add Late</button>
            </div>
            <div class="controls-section undo-controls">
                <button id="undo-btn" class="title-btn">Undo</button>
            </div>
        </div>
    </div>

    <div class="main-layout">
        <div class="main-content">
            <div class="locations">
        <div class="hand-row">
            <div class="location">
                <div class="location-header">
                    <h2>Your Hand</h2>
                    <span class="ops-average" id="your-hand-avg"></span>
                </div>
                <div class="card-area" id="your-hand"></div>
            </div>

            <div class="location">
                <div class="location-header">
                    <h2>Opponent's Hand</h2>
                    <span class="ops-average" id="opponent-hand-avg"></span>
                    <div class="hand-controls">
                        <div class="card-icon hand-control-icon" id="opponent-plus-btn" title="Add card">+</div>
                    </div>
                </div>
                <div class="card-area" id="opponent-hand"></div>
            </div>
        </div>

        <div class="location">
            <div class="location-header">
                <h2>Deck</h2>
                <span class="ops-average" id="deck-avg"></span>
            </div>
            <div class="deck-subsections">
                <div class="deck-subsection">
                    <h3>US</h3>
                    <div class="card-area" id="deck-us"></div>
                </div>
                <div class="deck-subsection">
                    <h3>Neutral</h3>
                    <div class="card-area" id="deck-neutral"></div>
                </div>
                <div class="deck-subsection">
                    <h3>USSR</h3>
                    <div class="card-area" id="deck-ussr"></div>
                </div>
            </div>
        </div>

        <div class="discard-row">
            <div class="location">
                <div class="location-header">
                    <h2>Discard</h2>
                    <span class="ops-average" id="discard-count"></span>
                </div>
                <div class="card-area" id="discard"></div>
            </div>

            <div class="location">
                <div class="location-header">
                    <h2>Removed</h2>
                    <span class="ops-average" id="removed-count"></span>
                </div>
                <div class="card-area" id="removed"></div>
            </div>
        </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="sidebar-section">
                <h3>Notes</h3>
                <textarea id="game-notes" class="game-notes" placeholder="Enter notes about this game..."></textarea>
            </div>
        </div>
    </div>

    <!-- Hidden storage for mid/late war cards -->
    <div id="box" style="display: none;"></div>

    <!-- New Game Modal -->
    <div id="new-game-modal" class="modal">
        <div class="modal-content">
            <h2>Create New Game</h2>
            <form id="new-game-form">
                <div class="form-group">
                    <label for="opponent-name">Opponent Name:</label>
                    <input type="text" id="opponent-name" required autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="your-side">Your Side:</label>
                    <select id="your-side" required>
                        <option value="US">US</option>
                        <option value="USSR">USSR</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="game-id">Game ID:</label>
                    <input type="text" id="game-id" required autocomplete="off">
                </div>
                <div class="form-buttons">
                    <button type="submit" class="modal-btn modal-btn-primary">Create</button>
                    <button type="button" id="cancel-new-game" class="modal-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>