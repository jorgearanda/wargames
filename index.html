<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wargames</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="game-management">
        <select id="game-selector" class="game-selector">
            <option value="">Select or create a game...</option>
        </select>
        <button id="new-game-btn" class="game-btn">New Game</button>
        <button id="delete-game-btn" class="game-btn danger">Delete Game</button>
        <button id="export-game-btn" class="game-btn">Export</button>
        <input type="file" id="import-game-input" accept=".json" style="display: none;">
        <button id="import-game-btn" class="game-btn">Import</button>
    </div>

    <div class="game-title-container">
        <div class="title-buttons">
            <div class="controls-section display-controls">
                <label for="highlight-dropdown">Highlight cards by type</label>
                <select id="highlight-dropdown" class="highlight-select">
                    <option value="-">-</option>
                    <option value="china">China</option>
                    <option value="defcon-modify">DEFCON Modify</option>
                    <option value="hand-modify">Hand Modify</option>
                    <option value="key">Key</option>
                    <option value="scoring">Scoring</option>
                    <option value="suicide">Suicide</option>
                    <option value="vps">VPs</option>
                    <option value="wars">Wars</option>
                </select>
                <label for="region-dropdown">by region</label>
                <select id="region-dropdown" class="highlight-select">
                    <option value="-">-</option>
                    <option value="africa">Africa</option>
                    <option value="asia">Asia</option>
                    <option value="central-america">Central America</option>
                    <option value="europe">Europe</option>
                    <option value="middle-east">Middle East</option>
                    <option value="south-america">South America</option>
                    <option value="southeast-asia">Southeast Asia</option>
                </select>
                <button id="clear-highlight-btn" class="title-btn">Clear</button>
                <label class="short-checkbox-label">
                    <input type="checkbox" id="short-names-checkbox"> Short names
                </label>
            </div>
            <div class="controls-section deck-management">
                <button id="add-discards-btn" class="title-btn">Re-add Discards</button>
                <button id="add-mid-btn" class="title-btn">Add Mid</button>
                <button id="add-late-btn" class="title-btn">Add Late</button>
            </div>
            <div class="controls-section undo-controls">
                <button id="undo-btn" class="title-btn">Undo</button>
            </div>
        </div>
    </div>

    <div class="main-layout">
        <div class="main-content">
            <div class="locations">
        <div class="hand-row">
            <div class="location">
                <div class="location-header">
                    <h2>Your Hand</h2>
                    <span class="ops-average" id="your-hand-avg"></span>
                </div>
                <div class="card-area" id="your-hand"></div>
            </div>

            <div class="location">
                <div class="location-header">
                    <h2>Opponent's Hand</h2>
                    <span class="ops-average" id="opponent-hand-avg"></span>
                    <div class="hand-controls">
                        <div class="card-icon hand-control-icon" id="opponent-plus-btn" title="Add card">+</div>
                    </div>
                </div>
                <div class="card-area" id="opponent-hand"></div>
            </div>
        </div>

        <div class="location">
            <div class="location-header">
                <h2>Deck</h2>
                <span class="ops-average" id="deck-avg"></span>
            </div>
            <div class="deck-subsections">
                <div class="deck-subsection">
                    <h3>US</h3>
                    <div class="card-area" id="deck-us"></div>
                </div>
                <div class="deck-subsection">
                    <h3>Neutral</h3>
                    <div class="card-area" id="deck-neutral"></div>
                </div>
                <div class="deck-subsection">
                    <h3>USSR</h3>
                    <div class="card-area" id="deck-ussr"></div>
                </div>
            </div>
        </div>

        <div class="discard-row">
            <div class="location">
                <div class="location-header">
                    <h2>Discard</h2>
                    <span class="ops-average" id="discard-count"></span>
                </div>
                <div class="card-area" id="discard"></div>
            </div>

            <div class="location">
                <div class="location-header">
                    <h2>Removed</h2>
                    <span class="ops-average" id="removed-count"></span>
                </div>
                <div class="card-area" id="removed"></div>
            </div>

            <div class="location">
                <div class="location-header">
                    <h2>In Front</h2>
                    <span class="ops-average" id="in-front-count"></span>
                </div>
                <div class="card-area" id="in-front"></div>
            </div>
        </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="sidebar-section">
                <h3>Notes</h3>
                <textarea id="game-notes" class="game-notes" placeholder="Enter notes about this game..."></textarea>
                <a href="https://github.com/jorgearanda/wargames" target="_blank" rel="noopener noreferrer" class="github-link">
                    <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    wargames
                </a>
            </div>
        </div>
    </div>

    <!-- Hidden storage for mid/late war cards -->
    <div id="box" style="display: none;"></div>

    <!-- New Game Modal -->
    <div id="new-game-modal" class="modal">
        <div class="modal-content">
            <h2>Create New Game</h2>
            <form id="new-game-form">
                <div class="form-group">
                    <label for="opponent-name">Opponent Name:</label>
                    <input type="text" id="opponent-name" required autocomplete="off">
                </div>
                <div class="form-group">
                    <label for="your-side">Your Side:</label>
                    <select id="your-side" required>
                        <option value="US">US</option>
                        <option value="USSR">USSR</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="game-id">Game ID:</label>
                    <input type="text" id="game-id" required autocomplete="off">
                </div>
                <div class="form-buttons">
                    <button type="submit" class="modal-btn modal-btn-primary">Create</button>
                    <button type="button" id="cancel-new-game" class="modal-btn">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>